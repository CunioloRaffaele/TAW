<div class="ticket-booking-container">
  <h2>Prenotazione Biglietto</h2>

  <div *ngIf="bookingError" class="error">{{ bookingError }}</div>
  <div *ngIf="bookingResult" class="success">Prenotazione completata!</div>

  <div class="section">
    <h3>Riepilogo viaggio</h3>
    <div class="summary-row">
      <span>Volo di andata:</span>
      <span *ngIf="flightId">#{{ flightId }}</span>
    </div>
    <div class="summary-row" *ngIf="returnFlightId">
      <span>Volo di ritorno:</span>
      <span>#{{ returnFlightId }}</span>
    </div>
    <div class="summary-row">
      <span>Classe:</span>
      <span>{{ classType }}</span>
    </div>
    <div class="summary-row">
      <span>Passeggeri:</span>
      <span>{{ passengers }}</span>
    </div>
  </div>

  <!-- Extra (applicati a tutti i passeggeri) -->
  <div class="section">
    <h3>Extra (applicati a tutti i passeggeri)</h3>
    <div>
      <label>
        <input
          type="radio"
          name="globalExtra"
          [checked]="extraBaggageSelected"
          (change)="selectGlobalExtra('baggage')"
        />
        Extra Baggage (+50€)
      </label>
      <label style="margin-left: 24px;">
        <input
          type="radio"
          name="globalExtra"
          [checked]="airportLoungeSelected"
          (change)="selectGlobalExtra('lounge')"
        />
        Airport Lounge (+75€)
      </label>
      <label style="margin-left: 24px;">
        <input
          type="radio"
          name="globalExtra"
          [checked]="!extraBaggageSelected && !airportLoungeSelected"
          (change)="selectGlobalExtra('none')"
        />
        Nessun extra
      </label>
    </div>
  </div>

  <div class="section">
    <h3>Prezzo totale</h3>
    <div class="summary-row" style="font-size:1.2em; font-weight:bold;">
      <span>Totale:</span>
      <span class="price" *ngIf="totalPrice !== null">€{{ totalPrice }}</span>
      <span *ngIf="totalPrice === null">-</span>
    </div>
  </div>

  <button mat-raised-button color="primary" (click)="bookTickets()" [disabled]="bookingResult || loading">Conferma Prenotazione</button>
</div>
